<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link rel="stylesheet" href="navbar.css">
    <style>
            #para{
            width:20%;
            margin: auto;
            border: 2px solid grey;
            border-radius: 10px;
            padding:20px;
            margin-top: 50px;
            text-align: center;
            color: white;
        }
        #para input{
            width:100%;
            margin: auto;
            border-radius: 5px;
            border: 0.3px solid grey;
            font-size: 15px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div id="navbar">

    </div>

    <div id="login">

       

    </div>

 
    
</body>
</html>

<script type="module">
  import navbar from "./components/navbar.js";
    import {signup} from "./components/login.js";
  
   let loginPage=document.getElementById("login");
    loginPage.innerHTML=signup();

    let para=document.getElementById("navbar");
  para.innerHTML=navbar();

    let users=[];
    let x=false;

  class User {
    #password;
    constructor(){
        
    }
   
    #validateUsername(username){
        let value= username.includes('@') ? true:false;

        return value;

    }

    #validatePassword(password){

        let value= password.includes('@') ? true:false;

        return value;

    }

    login(username,password){

        if(users.username==username ||this.#password==password){
            alert("Sucessfully login");
            x=true;
            localStorage.setItem("flag",JSON.stringify(x));
            window.location.href="index.html";

        }else{
        alert("Please Enter correct deatalis")
        }

    }

    signup(name,username,password){

        let isValidate=false;

        isValidate=this.#validateUsername(username) && this.#validatePassword(password);

        if(isValidate){
            this.name=name;
            this.username=username;
            this.#password=password;
            users.push(this);
    localStorage.setItem("usersdata",JSON.stringify(users));
           
            alert("Sucessfully SIgn up");
        }else{
            alert("Authunication failed");
        }

    }

  }


document.getElementById("submit").addEventListener("click",SubmittedData);


  function SubmittedData(){
    event.preventDefault()
    let name=document.getElementById("name").value;
    let username=document.getElementById("username").value;
    let password=document.getElementById("password").value;
    console.log(name)

    let s1=new User();
    s1.signup(name,username,password);
    window.location.href="login.html";
    
  }





  
  </script>